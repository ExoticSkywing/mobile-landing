---
/** biome-ignore-all lint/correctness/noUnusedImports: React icons are used in JSX */
/** biome-ignore-all lint/correctness/noUnusedVariables: variables used in Astro components */

import type { FeaturesProps } from "@/types/app";

interface Props extends FeaturesProps {}

const { items } = Astro.props;
---

<div class="mb-16">
	<h2 class="mb-6 text-2xl font-semibold text-gray-900 dark:text-white">
		全场景亮点
	</h2>
	<div class="grid grid-cols-1 gap-6 md:grid-cols-3">
		{items.map(({ title, description, icon: Icon }, index) => (
			<div class="relative group rounded-2xl border border-gray-300 dark:border-white/10 bg-white dark:bg-white/[0.03] p-6 shadow-sm overflow-hidden hover:shadow-md transition-all duration-300 hover:border-gray-400 dark:hover:border-white/20">
				<div class="flex items-center justify-between mb-4">
					<div class="flex h-12 w-12 items-center justify-center rounded-xl bg-gray-100 dark:bg-white/[0.04] transition-transform duration-300 group-hover:scale-110">
						<Icon className="h-6 w-6 text-gray-700 dark:text-white opacity-90" />
					</div>
					{index === 0 && (
						<div class="flex md:hidden items-center gap-1.5 animate-entrance">
							{/* JavDB */}
							<div class="h-8 w-8 rounded-lg bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/10 p-1 flex items-center justify-center shadow-sm animate-float-slow" style="animation-delay: 0s;">
								<img src="/assets/heart/javdb.webp" alt="JavDB" class="w-full h-full object-contain transform transition-transform duration-300 hover:scale-110 hover:-rotate-6" />
							</div>
							{/* MissAV */}
							<div class="h-8 w-8 rounded-lg bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/10 p-1 flex items-center justify-center shadow-sm animate-float-medium" style="animation-delay: 0.2s;">
								<img src="/assets/heart/miss.webp" alt="MissAV" class="w-full h-full object-contain transform transition-transform duration-300 hover:scale-110 hover:rotate-6" />
							</div>
							{/* TXVLog */}
							<div class="h-8 w-8 rounded-lg bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/10 p-1 flex items-center justify-center shadow-sm animate-float-fast" style="animation-delay: 0.4s;">
								<img src="/assets/heart/txvlog.webp" alt="TXVLog" class="w-full h-full object-contain transform transition-transform duration-300 hover:scale-110 hover:-rotate-3" />
							</div>
							{/* Madou (Dark/Light) */}
							<div class="h-8 w-8 rounded-lg bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/10 p-1 flex items-center justify-center shadow-sm group/madou animate-float-slow" style="animation-delay: 0.6s;">
								<img src="/assets/heart/madou-light.webp" alt="Madou" class="w-full h-full object-contain dark:hidden transform transition-transform duration-300 hover:scale-110 hover:rotate-3" />
								<img src="/assets/heart/madou-dark.webp" alt="Madou" class="w-full h-full object-contain hidden dark:block transform transition-transform duration-300 hover:scale-110 hover:rotate-3" />
							</div>
						</div>
					)}
				</div>
				<h3 class="mb-2 text-lg font-medium text-gray-900 dark:text-white">
					{title}
				</h3>
				<p class="text-sm leading-relaxed text-gray-600 dark:text-gray-400">
					{description}
				</p>
				{index === 0 && (
					<div class="mt-6 hidden md:flex items-center justify-end gap-1.5 animate-entrance">
						{/* JavDB */}
						<div class="h-8 w-8 rounded-lg bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/10 p-1 flex items-center justify-center shadow-sm animate-float-slow" style="animation-delay: 0s;">
							<img src="/assets/heart/javdb.webp" alt="JavDB" class="w-full h-full object-contain transform transition-transform duration-300 hover:scale-110 hover:-rotate-6" />
						</div>
						{/* MissAV */}
						<div class="h-8 w-8 rounded-lg bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/10 p-1 flex items-center justify-center shadow-sm animate-float-medium" style="animation-delay: 0.2s;">
							<img src="/assets/heart/miss.webp" alt="MissAV" class="w-full h-full object-contain transform transition-transform duration-300 hover:scale-110 hover:rotate-6" />
						</div>
						{/* TXVLog */}
						<div class="h-8 w-8 rounded-lg bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/10 p-1 flex items-center justify-center shadow-sm animate-float-fast" style="animation-delay: 0.4s;">
							<img src="/assets/heart/txvlog.webp" alt="TXVLog" class="w-full h-full object-contain transform transition-transform duration-300 hover:scale-110 hover:-rotate-3" />
						</div>
						{/* Madou (Dark/Light) */}
						<div class="h-8 w-8 rounded-lg bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/10 p-1 flex items-center justify-center shadow-sm group/madou animate-float-slow" style="animation-delay: 0.6s;">
							<img src="/assets/heart/madou-light.webp" alt="Madou" class="w-full h-full object-contain dark:hidden transform transition-transform duration-300 hover:scale-110 hover:rotate-3" />
							<img src="/assets/heart/madou-dark.webp" alt="Madou" class="w-full h-full object-contain hidden dark:block transform transition-transform duration-300 hover:scale-110 hover:rotate-3" />
						</div>
					</div>
				)}
			</div>
		))}
	</div>

	<style>
		@keyframes entrance {
			from { opacity: 0; transform: translateX(10px) scale(0.95); }
			to { opacity: 1; transform: translateX(0) scale(1); }
		}
		.animate-entrance {
			animation: entrance 0.8s cubic-bezier(0.2, 0.8, 0.2, 1) backwards;
		}
		
		@keyframes float-slow {
			0%, 100% { transform: translateY(0); }
			50% { transform: translateY(-3px); }
		}
		@keyframes float-medium {
			0%, 100% { transform: translateY(0); }
			50% { transform: translateY(-4px); }
		}
		@keyframes float-fast {
			0%, 100% { transform: translateY(0); }
			50% { transform: translateY(-2px); }
		}
		/* Use a wrapper for transform animations to avoid conflict with hover effects */
		.animate-float-slow { animation: float-slow 4s ease-in-out infinite; }
		.animate-float-medium { animation: float-medium 3.5s ease-in-out infinite; }
		.animate-float-fast { animation: float-fast 3s ease-in-out infinite; }
	</style>
</div>